<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Thibault Lestang">
  <meta name="author" content="Dominik Krzemiński">
  <meta name="author" content="Valerio Maggio">
  <meta name="keywords" content="Code Review, Software Sustainability
Institute, Research Software">
  <title>Investing in code reviews for better research software</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cccccc; background-color: #303030; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ffcfaf; } /* Alert */
    code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #dca3a3; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #f0dfaf; } /* ControlFlow */
    code span.ch { color: #dca3a3; } /* Char */
    code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
    code span.co { color: #7f9f7f; } /* Comment */
    code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
    code span.do { color: #7f9f7f; } /* Documentation */
    code span.dt { color: #dfdfbf; } /* DataType */
    code span.dv { color: #dcdccc; } /* DecVal */
    code span.er { color: #c3bf9f; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #c0bed1; } /* Float */
    code span.fu { color: #efef8f; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
    code span.kw { color: #f0dfaf; } /* Keyword */
    code span.op { color: #f0efd0; } /* Operator */
    code span.ot { color: #efef8f; } /* Other */
    code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
    code span.sc { color: #dca3a3; } /* SpecialChar */
    code span.ss { color: #cc9393; } /* SpecialString */
    code span.st { color: #cc9393; } /* String */
    code span.va { } /* Variable */
    code span.vs { color: #cc9393; } /* VerbatimString */
    code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/theme/white.css" id="theme">
  <style>
  .slides {
      font-size: 0.85em;
  }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/ssi_title_background.png" data-background-size="contain">
  <h1 class="title">Investing in code reviews for better research
software</h1>
  <p class="author">Thibault Lestang</p>
  <p class="author">Dominik Krzemiński</p>
  <p class="author">Valerio Maggio</p>
</section>

<section id="part-0" class="slide level3">
<h3>Part 0</h3>
<h3>
What is a code review?
</h3>
<p><img data-src="img/detective.png" /></p>
</section>
<section id="code-review" class="slide level3">
<h3>Code review?</h3>
<p>Main benefits:</p>
<ol type="1">
<li><p>Catching bugs</p></li>
<li><p>Ensuring quality standard</p></li>
<li><p>Spreading knowledge</p></li>
<li><p>Training new developers</p></li>
</ol>
<figure>
<img data-src="img/men-talking.jpg" alt="__" />
<figcaption aria-hidden="true">__</figcaption>
</figure>
<aside class="notes">
<ul>
<li>Viewed as an important practice in the software industry.</li>
<li>Key step in contributing to most software projects
(gatekeeping).</li>
</ul>
</aside>
</section>
<section id="not-a-peer-review-for-code" class="slide level3">
<h3>Not a peer review for code</h3>
<ul>
<li>Code review <strong>throughout the research process</strong>:
<ul>
<li>Frequent</li>
<li>Informal</li>
<li>Low stakes</li>
</ul></li>
<li>Commonly referred as “Modern Code Review” in the SE literature.
Bachelli and Bird 2013</li>
<li>Can be <em>asynchronous</em> (GitHub’s Pull Requests) or
<em>synchronous</em> (in person chat).</li>
</ul>
</section>
<section id="codecheck" class="slide level3">
<h3>CODECHECK</h3>
<figure>
<img data-src="img/checkers.png" alt="codecheck.org.uk" />
<figcaption aria-hidden="true">codecheck.org.uk</figcaption>
</figure>
</section>
<section id="from-formal-inspections-to-code-review"
class="slide level3">
<h3>From formal inspections to code review</h3>
<p><img data-src="img/code_inspection_and_gitlab.png" /></p>
</section>
<section id="asynchronous-code-review" class="slide level3">
<h3>Asynchronous Code Review</h3>
<p><img data-src="img/cr-cycle.png" /></p>
</section>
<section id="synchronous-code-review" class="slide level3">
<h3>Synchronous Code Review</h3>
<p><img data-src="img/sync_review_imperial.jpg"
style="width:65.0%" /></p>
<p style="font-size: 0.5em">
Elise Özalp, Yaxin, Defne Ozan, Daniel Kelshaw <a
href="https://magrilab.ae.ic.ac.uk/group.html">(https://magrilab.ae.ic.ac.uk)</a>,
Thibault Lestang. Photo cred: Neil Montague.
</p>
<p style="font-size: 0.4em">
Department of Aeronautics, Imperial College London
</p>
</section>
<section id="two-contexts" class="slide level3">
<h3>Two contexts</h3>
<ol type="1">
<li>Individual developers writing their own specific software.</li>
<li>Developers collaborating on a common codebase.
<ul>
<li>Code review as gatekeeping.</li>
</ul></li>
</ol>
</section>
<section id="research-on-code-reviews" class="slide level3">
<h3>Research on code reviews</h3>
<p><em>Modern Code Review: A Case Study at Google</em> (Sadowski,
2018)</p>
<p><em>Expectations, Outcomes, and Challenges of Modern Code Review</em>
(Bacchelli and Bird, 2013)</p>
<p><em>Code Reviewing in the Trenches: Understanding Challenges and Best
Practices</em> (McLeod et al, 2017)</p>
<p><em>Code review by and for scientists</em> (Petre &amp; Wilson,
2014)</p>
</section>
<section id="part-1" class="slide level3"
data-background-color="#002147" data-transition="zoom">
<h3 data-background-color="#002147" data-transition="zoom">Part 1</h3>
<p>Benefits of code reviews for research software</p>
</section>
<section id="code-review-for-software-quality" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code review for software
quality</h3>
<ol type="1">
<li>Defects</li>
<li>Code improvements</li>
</ol>
<p><img data-src="img/builder.png" /></p>
<aside class="notes">
<p>If you ask Microsoft developers about why they are doing code
reviews, you’ll find that the main motivation is making the code better.
This means identifying defects and improving the code.</p>
<p>Code improvements are changes that do not affect the functionalities
but make the code more readable or maintainable. You can think of
complying to a naming scheme, identifying code smells, or adhering to
existing software design choices.</p>
</aside>
</section>
<section id="code-review-for-software-quality-1" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code review for software
quality</h3>
<figure>
<img data-src="img/defects-improvement-bachelli-bird2013.png"
alt="(Bachelli &amp; Bird, 13)" />
<figcaption aria-hidden="true">(Bachelli &amp; Bird, 13)</figcaption>
</figure>
<aside class="notes">
<p>In practice, defects aren’t the first thing that code review really
help with. It can help, but maybe testing is a better investement in
order to prevent bugs.</p>
<p>But code review is clearly effective for improving code.</p>
</aside>
</section>
<section id="code-reviews-for-understandability" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code reviews for
understandability</h3>
<p>More often than not source code is the only available form of
documentation.</p>
<p>Understandability is key for <strong>code reuse</strong> and
<strong>transparency</strong>.</p>
<aside class="notes">
<p>Understanbility goes beyond readability, it measures how easy it is
to get comfortable making changes to a software system.
Understandability is a prime quality for research software.</p>
<p>If you think of a research group in which researchers write their own
bespoke programs for their specific data manipulation or computational
experiement, these will not be documented.</p>
<p>Code review is a good assessment of understandability and this makes
it very attractive for research software.</p>
</aside>
</section>
<section id="code-reviews-for-team-awareness" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code reviews for team awareness</h3>
<ul>
<li>Continuous knowledge exchange.</li>
<li>Enhanced collaboration.</li>
<li>Longer term resilience of project(s) (Bus factor!).</li>
</ul>
<aside class="notes">
<p>Code review goes beyond understability. Esp important in research
where developers may be more isolated from each other and it’s easy to
struggle and come up with your own bespoke solutions.</p>
</aside>
</section>
<section id="code-reviews-for-team-awareness-1" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code reviews for team awareness</h3>
<p><img data-src="img/sync_review_imperial.jpg"
style="width:65.0%" /></p>
<p style="font-size: 0.5em">
Elise Özalp, Yaxin, Defne Ozan, Daniel Kelshaw <a
href="https://magrilab.ae.ic.ac.uk/group.html">(https://magrilab.ae.ic.ac.uk)</a>,
Thibault Lestang. Photo cred: Neil Montague.
</p>
<p style="font-size: 0.4em">
Department of Aeronautics, Imperial College London
</p>
<aside class="notes">
<p>Imperial story - Handful of PhD students, all training ML models -
Need to read in and manage many different parameters - Through code
review became obvious they are all trying to do similar thing. - Working
together to come up with a shared solution. - Common, standardized way
of dealing with model parameters that they all understand. They will
benefit from that over the course of their PhD.</p>
<p>Code review had an indicrect impact: people talk to each other
more.</p>
</aside>
</section>
<section id="code-reviews-for-knowledge-transfer" class="slide level3"
data-background-color="#002147">
<h3 data-background-color="#002147">Code reviews for knowledge
transfer</h3>
<p>Code review is peer learning.</p>
<ul>
<li>Spread of good practices.</li>
<li>Homogeneisation of styles and practices.</li>
</ul>
<div class="fragment">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>filepath <span class="op">=</span> <span class="st">&quot;/my/own/specific/path/&quot;</span> <span class="op">+</span> <span class="st">&quot;data.csv&quot;</span></span></code></pre></div>
</div>
<div class="fragment">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ...</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>datadir_path <span class="op">=</span> Path(<span class="st">&quot;/my/own/specific/path/&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>filepath <span class="op">=</span> datadir_path <span class="op">/</span> <span class="st">&quot;data.csv&quot;</span></span></code></pre></div>
<aside class="notes">
<p>If the Bachelli sutdy was carried out in a lab, knowledge transfer
would be huge. Because knowledge is very unevenly distributed in
research.</p>
<p>Use of a yaml input file Dataclasses</p>
</aside>
</div>
</section>
<section id="part-2-challenges" class="slide level3"
data-background-color="#e4e4e4" data-transition="zoom">
<h3 data-background-color="#e4e4e4" data-transition="zoom">Part 2:
Challenges</h3>
<p>A lot of good practices around…</p>
<p>…but what about <strong>research software</strong>?</p>
<aside class="notes">
<p>The elephant in the room: nobody does code review. Some may do it as
part of collaborating on a distributed project.</p>
<p>Generally within a research group or a lab/department, for the
reasons above this is not happening.</p>
</aside>
</section>
<section id="code-review-is-time-and-energy" class="slide level3"
data-background-color="#e4e4e4">
<h3 data-background-color="#e4e4e4">Code review is time and energy</h3>
<p>Two complementary courses of actions:</p>
<div>
<ul>
<li class="fragment">Regularly reflect on process and follow trusted
practices.</li>
<li class="fragment">Acknowledge code review as a worthy investment:
<ul>
<li class="fragment">“middle-term” benefits for individuals.</li>
<li class="fragment">Short and long term benefits for collectives.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><strong>Large return on investment</strong></p>
<aside class="notes">
<p>It’s a fact but both time and energy investement can be reduced.</p>
<p>One prerequisite of code reivew is being okay with somebody looking
your code.</p>
</aside>
</div>
</section>
<section id="being-protective-about-code" class="slide level3"
data-background-color="#e4e4e4">
<h3 data-background-color="#e4e4e4">Being protective about code</h3>
<ol type="1">
<li>There can be some unhealthy competition going on.</li>
<li>A large number of researchers feel shy about their coding
practices:</li>
</ol>
<ul>
<li>Lack of training.</li>
<li>Other priorities, often structural (e.g. funding).</li>
<li>Why would I share my code if nobody else does?</li>
</ul>
<div class="fragment">
<p>Code review can put software (back?) at the heart of the
collaborative scientific process.</p>
<aside class="notes">
<p>shame is perhaps the biggest issue. From my modest 5 years exp as a
full time RSE, I’ve worked with researchers in various and often feel
ashamed of their coding practice. Several factors: lack of training,
code is an afterthought, not used to share code. Code review can help
turn the tide.</p>
</aside>
</div>
</section>
<section id="strong-heterogeneity-among-team-members"
class="slide level3" data-background-color="#e4e4e4">
<h3 data-background-color="#e4e4e4">Strong heterogeneity among team
members</h3>
<ul>
<li>Experience.</li>
<li>Skills (<em>e.g.</em> programming languages).</li>
<li>Interest &amp; motivation.</li>
</ul>
<aside class="notes">
<p>Code review litterature reports on the effect of heterogeneity among
participants who can be very junior developers up to employees with more
than 10 years experience int he software industry or even the same
company. They share common skill base, vocabulary, interest in SE.</p>
<p>But in research this is a whole other level of heterogeneity.</p>
</aside>
</section>
<section id="other-challenges" class="slide level3"
data-background-color="#e4e4e4">
<h3 data-background-color="#e4e4e4">Other challenges</h3>
<ul>
<li>Finding reviewers.</li>
<li>Finding guidance or mentors.</li>
</ul>
</section>
<section id="part-3-code-review-good-practices" class="slide level3"
data-background-color="#a5f99e" data-transition="zoom">
<h3 data-background-color="#a5f99e" data-transition="zoom">Part 3: Code
review good practices</h3>
<p>A lot of the good practices from software engineering industry are
applicable, <strong>with a pinch of salt</strong>.</p>
<aside class="notes">
<p>The following results from combination of industry good practice and
observations/experimentation in a research context.</p>
</aside>
</section>
<section id="keep-it-short" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Keep it short</h3>
<p>3 times 30’ instead of one time 90’</p>
<ul>
<li>Fit in a busy schedule.</li>
<li>Doesn’t feel like a big commitment.</li>
<li>Code review can be a very demanding activity.</li>
</ul>
<p>Remember that software is often not the primary driver.</p>
</section>
<section id="avoid-comfort-mode" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Avoid comfort mode</h3>
<p><em>That doesn’t look right but I guess that’s okay…</em></p>
<p><em>I just must have missed something…</em></p>
<div class="fragment">
<p>In code review meetings, authors should make is easy for reviewers to
interject.</p>
<aside class="notes">
<p>It can be hard for more shy people to dare interject and ask
questions. Especially if they have less experience than the author.</p>
<p>Easy to think reviewers have all the responsability but actually
authors have a huge impact on the code review success.</p>
</aside>
</div>
</section>
<section id="the-authors-part" class="slide level3"
data-background-color="#eaaeb5">
<h3 data-background-color="#eaaeb5">The author’s part</h3>
<figure>
<img data-src="img/comfort_mr_header.png"
alt="A very scarce description" />
<figcaption aria-hidden="true">A very scarce description</figcaption>
</figure>
</section>
<section id="the-authors-part-1" class="slide level3"
data-background-color="#eaaeb5">
<h3 data-background-color="#eaaeb5">The author’s part</h3>
<p><img data-src="img/comfort_mr_commits.png" /></p>
</section>
<section id="the-authors-part-2" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">The author’s part</h3>
<ul>
<li>Keep it small! (~30’).</li>
<li>Provide a description of the purpose and structure of the code.</li>
<li>Think ahead what reviewers will and will not be familiar with
<ul>
<li>Specific libraries?</li>
<li>Specific domain knowledge?</li>
</ul></li>
<li>Ensure minimum quality standard (<em>e.g.</em> style, naming).</li>
</ul>
<p>As a reviewer, think from your reviewer(s)’ perspective.</p>
<aside class="notes">
<p>A code review’s success partly rests on the author’s shoulder.
Authors are not entirely responsible for the review success, but can
definetely make it fail.</p>
<p>Extra effort for everyone in the team, but goes faster as a whole.
Also makes life easier for everyone - offsets initial effort.</p>
</aside>
</section>
<section id="specify-the-feedback-you-are-after" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Specify the feedback you are
after</h3>
<p><em>I’m not happy with this loop</em></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="kw">`</span><span class="fu">seq</span> 1 <span class="va">$NUMOFFIG</span><span class="kw">`</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">FIG</span><span class="op">=</span><span class="va">$(</span><span class="fu">ls</span> <span class="va">$IMDIR</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> <span class="va">$i</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1<span class="va">)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">&quot;    </span><span class="va">${placeholderpath}</span><span class="st">/</span><span class="va">${FIG}</span><span class="st">&quot;</span> <span class="op">&gt;&gt;</span> <span class="va">$FILE</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code></pre></div>
<div class="fragment">
<p><em>I’m having to define a lot of classes that don’t do much, what do
you think of my design?</em></p>
</div>
<div class="fragment">
<p><em>I don’t have any specific issue in mind, but I’m curious to see
whether or not you find it hard to to follow the code’s logic.</em></p>
<aside class="notes">
<p>Feedback is likely to be more targeted and impactful.</p>
</aside>
</div>
</section>
<section id="define-and-enforce-a-scope" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Define (and enforce) a scope</h3>
<p>Example default scope: understandability</p>
<ul>
<li>Obscure variable names.</li>
<li>Complex conditionals.</li>
<li>Duplicated code.</li>
<li>Long parameter lists.</li>
<li>Shallow modules.</li>
<li><del>Standard compliance.</del></li>
<li><del>Performance sinks</del>.</li>
<li><del>Security concerns</del>.</li>
</ul>
<p>Default scope can be overrriden at will.</p>
<aside class="notes">
<p>Another way to foster relevant feedback and discussions is to define
a scope.</p>
</aside>
</section>
<section id="whether-it-works-or-not-is-irrelevant" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Whether “it works” or not is
irrelevant</h3>
<ul>
<li>Code review is not an evaluation of a finished product.</li>
<li>It is more rewarding to look at code that is WIP.</li>
<li>The only expectation is that code is readable by reviewers.</li>
</ul>
<aside class="notes">
<ul>
<li>Formatting, dead code, comments…</li>
</ul>
</aside>
</section>
<section id="make-it-formal-but-safe" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Make it formal – but safe</h3>
<p>Code review is more effective with a clear process (formal)</p>
<p><em>At the same time,</em> Code review <em>must</em> occur within an
inclusive and supporting space.</p>
<p><strong>It’s about creating an environment where people feel
confident about discussing their code with each other.</strong></p>
</section>
<section id="overheard-in-the-next-meeting-room" class="slide level3"
data-background-color="#eaaeb5">
<h3 data-background-color="#eaaeb5">Overheard in the next meeting
room</h3>
<p>Author: <em>This loop I wrote looks too complicated to me.</em></p>
<div class="fragment">
<p>Reviewer: <em>Hmmm yes. You could just use a pipe and
<code>xargs</code>.</em></p>
</div>
<div class="fragment">
<p>Author: <em>What’s <code>xargs</code>?</em></p>
</div>
<div class="fragment">
<p>Reviewer: <em>It’s basically mapping a command over a set of inputs -
think functional programming!</em></p>
</div>
<div class="fragment">
<p>Author: <em>…</em></p>
</div>
<div class="fragment">
<p>Reviewer: <em>Alhtough you could also do the same thing with
<code>sed</code>.</em></p>
</div>
<div class="fragment">
<p>Author (looking frustrated): <em>I have no idea what you’re talking
about.</em></p>
</div>
</section>
<section id="all-feedback-isnt-helpful" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">All feedback isn’t helpful</h3>
<p>…at least for now.</p>
<p>Reviewers with more programming experience/enthusiasm must be careful
not to overwhelm beginners.</p>
</section>
<section id="use-a-checklist" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Use a checklist</h3>
<ul>
<li><input type="checkbox" disabled="" />
Poor formatting.</li>
<li><input type="checkbox" disabled="" />
Dead code.</li>
<li><input type="checkbox" disabled="" />
Missing documentation.</li>
<li><input type="checkbox" disabled="" />
Obscure names.</li>
<li><input type="checkbox" disabled="" />
Complex conditionals.</li>
<li><input type="checkbox" disabled="" />
Obscure one-liners.</li>
<li><input type="checkbox" disabled="" />
Duplicated code.</li>
<li><input type="checkbox" disabled="" />
Long procedures.</li>
<li><input type="checkbox" disabled="" />
Long parameter lists.</li>
<li><input type="checkbox" disabled="" />
Global state.</li>
<li><input type="checkbox" disabled="" />
Abuse of primitive types.</li>
<li><input type="checkbox" disabled="" />
Data clumps.</li>
<li>…</li>
</ul>
<aside class="notes">
<p>Give an opportunity for beginners to participate.</p>
<p>Start with the easy checks.</p>
</aside>
</section>
<section id="critique-the-code-not-the-programmer" class="slide level3"
data-background-color="#eaaeb5">
<h3 data-background-color="#eaaeb5">Critique the code, not the
programmer</h3>
<p><em>You clearly made little effort in naming things…</em></p>
<p><em>You should name this differently</em></p>
<p><em>This doesn’t make sense</em></p>
<aside class="notes">
<p>Feedback can be hard to stomach</p>
</aside>
</section>
<section id="giving-feedback-is-not-trivial" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Giving feedback is not trivial</h3>
<ol type="1">
<li>Own you opinions.</li>
<li>Make it about the code.</li>
<li>Be specific.</li>
<li>Suggest an alternative.</li>
</ol>
<div class="fragment">
<p><del><em>This name doesn’t make sense</em></del></p>
</div>
<div class="fragment">
<p><em>I think this function’s purpose would be much clearer if it was
given a more explicit name.. perhaps
<code>apply_bwd_transform</code>?</em></p>
</div>
</section>
<section id="code-review-is-both-technical-and-social"
class="slide level3" data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Code review is both
<strong>technical</strong> and <strong>social</strong></h3>
<p>Code reviews can drive both inclusion and exclusion.</p>
<div class="fragment">
<blockquote>
<p>A bad reviewer tries to force their preference on you. A good code
reviewer makes your code conform to certain principles, but not opinion.
(<em>Quote from survey participant from Greiler, 2016</em>)</p>
</blockquote>
</div>
</section>
<section id="define-and-refine-a-policy" class="slide level3"
data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">Define (and refine) a policy</h3>
<ul>
<li>Well defined process.</li>
<li>Default scope.</li>
<li>Moderator(s).</li>
<li>Code of conduct.</li>
<li>Conflict resolution.</li>
</ul>
<aside class="notes">
<p>A code reviwe is a conversation, potentially involving more than 2
people. as any converstaion it can shift to irrelevant topics,
unproductive arguments or power struggles.</p>
<p>A clear policy including moderation and conflict resolution
procedures can guard against these.</p>
</aside>
</section>
<section id="a-culture-of-openess-and-collaboration"
class="slide level3" data-background-color="#a5f99e">
<h3 data-background-color="#a5f99e">A culture of openess and
collaboration</h3>
<ul>
<li>Components of a successful software project are
<ul>
<li>Code</li>
<li>People</li>
<li>Communication</li>
</ul></li>
<li>Research code review goes along with collective ownersip of research
project.</li>
</ul>
</section>
<section id="code-review-at-anaconda" class="slide level3">
<h3>Code Review at Anaconda</h3>
<aside class="notes">
<p>Anaconda is well-known in the Data Science community for its
contribution to open source projects and the PyData ecosystem - in fact
Anaconda sutains NumFOCUS which is the non-profit umbrella organisation
supporting the main projects in Python Scientific Ecosystem.</p>
<p>As a company, Anaconda is a <em>RemoteFirst</em> organisation</p>
<p>fully-distributed teams set to work asynchronously (w/ timely sync
catch ups)</p>
</aside>
</section>
<section id="code-review-at-anaconda-1" class="slide level3">
<h3>Code Review at Anaconda</h3>
<p>(<em>Asynch</em>) <strong>Code Review</strong> plays a huge role in
Anaconda</p>
<div class="fragment">
<ul>
<li><p>Code review is a standard practice in all projects being used
to:</p>
<ul>
<li>Enforce Team collaboration</li>
<li>Provide a welcoming and friendly <em>onboarding</em> for
newcomers<br />
</li>
<li>Guarantee Software compliance (<em>audit</em>)</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Code Review sets and (easily) adapts differently depending on
specific Projects requirements</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>The type of the team is very important, for example:</p>
<ul>
<li>All IT-experts; IT people w/ diff experience or backgrounds; IT
&amp; non-IT people..</li>
</ul></li>
</ul>
</div>
</section>
<section id="code-review-at-anaconda-2" class="slide level3">
<h3>Code Review at Anaconda</h3>
<p>(Author’s Checklist)</p>
<ul>
<li><p><strong>Always</strong> communicate up-front changes to an
existing code base, i.e. <em>Open an Issue in the repo</em></p>
<ul>
<li>This also works well because GH allows to refer &amp; close related
issues in a PR</li>
<li>Helps also with changes already discussed / in progress</li>
</ul></li>
</ul>
<div class="fragment">
<p>For new-comers:</p>
<ul>
<li>Always start with <em>small</em> and self-contained things to easily
get into the project and the process</li>
</ul>
</div>
</section>
<section id="code-review-in-anaconda" class="slide level3">
<h3>Code Review in Anaconda</h3>
<p>(Reviewer’s Checklist)</p>
<ul>
<li>TOP of the list: Being considerate; giving recommendations, and
motivations (<em>why!</em>)</li>
</ul>
<div class="fragment">
<p>Code Review is mostly based on integration and (generally)
<em>non-functional</em> requirements:</p>
</div>
<div class="fragment">
<ul>
<li><p>Check that (design) <em>concepts</em> are not broken
(e.g. APIs);</p></li>
<li><p>All changes are supported by automated tests;</p></li>
<li><p>Code organisation is compliant with project structure;</p></li>
<li><p><em>concistency</em> (code and data) is respected wrt. to the
project;</p></li>
<li><p>Suggest <em>more efficient // Pythonic</em> implementations (if
any)</p>
<ul>
<li>Ignore all things that could be automated, e.g. via linters.</li>
</ul></li>
</ul>
<aside class="notes">
<p>(Top list) This means that code review is generally carried out by
more experienced engineers first, with sometimes junior engineers being
asked to assist Explaining motivations of comments is extremely
important and it is what is primarly considered as a good and
considerate CR</p>
</aside>
</div>
</section>
<section id="thank-you" class="slide level3">
<h3>Thank you!</h3>
<p>Questions?</p>
</section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="https://unpkg.com/reveal.js@^4/plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4/plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4/plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
